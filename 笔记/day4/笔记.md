# 用户数据的获取和渲染

## 尝试获取

![](笔记.assets/2022-06-16-09-52-48-image.png)

![](笔记.assets/2022-06-16-09-53-01-image.png)

![](笔记.assets/2022-06-16-09-53-18-image.png)

## 封装在 vuex 里面

![](笔记.assets/2022-06-16-10-40-48-image.png)

![](笔记.assets/2022-06-16-10-46-53-image.png)

![](笔记.assets/2022-06-16-10-47-31-image.png)

## 追加员工详情数据

因为需要渲染头像, 原来的接口数据不够,追加一个

虽然改完有可能图片报错, 但是只要 src 数据对上了即可, 

图片问题后面解决

![](笔记.assets/2022-06-16-11-47-24-image.png)

![](笔记.assets/2022-06-16-11-47-55-image.png)

![](笔记.assets/2022-06-16-11-48-10-image.png)

# 自定义指令修复图片错误

## 自定义指令创建

![](笔记.assets/2022-06-16-12-18-44-image.png)

![](笔记.assets/2022-06-16-12-19-06-image.png)

## 图片修复

基本就是在自定义指令中, 如果发现问题, 就替换 src

![](笔记.assets/2022-06-16-14-57-01-image.png)

# 登出功能

![](笔记.assets/2022-06-16-15-44-23-image.png)

![](笔记.assets/2022-06-16-15-44-46-image.png)

# token 失效的介入

## 被动

![](笔记.assets/2022-06-16-16-00-34-image.png)

## 主动

主要逻辑是, 每次发请求带 token 的时候, 检查跟上次发请求之间的间隔, 如果超过一定时间, 就直接退出

![](笔记.assets/2022-06-16-16-57-17-image.png)

![](笔记.assets/2022-06-16-16-57-39-image.png)

# 路由页面准备

## 清理

![](笔记.assets/2022-06-16-17-42-19-image.png)

## 当前项目中创建页面的基本操作

![](笔记.assets/2022-06-16-17-59-00-image.png)

![](笔记.assets/2022-06-16-17-59-36-image.png)

![](笔记.assets/2022-06-16-18-00-01-image.png)

## 大量图标复制

![](笔记.assets/2022-06-16-18-17-03-image.png)

## 页面 vue 文件创建

![](笔记.assets/2022-06-16-18-17-55-image.png)

## 创建路由配置并引入使用

![](笔记.assets/2022-06-16-18-19-19-image.png)
